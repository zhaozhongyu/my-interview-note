## 作家助手
https://juejin.cn/post/7280831651084681251  如何回答出让面试官满意的前端性能优化？

加载层面
首先，加载层面就是网络在加载文件，核心要点就是快，怎么快呢：

文件小
网络快
缓存

渲染层面

其次，便是我们的渲染过程，上面的优化策略大多是配置方面，渲染层面的配置就落实到我们前端的具体技术细节上了。

## H5白屏优化
1. 首先是用户反馈H5端打开的时候白屏时间过长

### 复现和分析
1. 复现时使用devtools中的性能模块进行录制并重新加载, 查看录制结果后进行分析, 查看到请求时存在大量的js/css请求, 另外虽然使用了CDN加速, 但每个请求都需要几十到几百ms, 总体加起来, 导致了白屏时间过长

#### 修改
1. 针对大量请求的情况, 修改打包脚本, 合并js/css, 减少请求数. 对于iframe, 减少同时并发请求的情况.
2. 针对单个请求耗时的情况, 开启了http2.
3. 其次想开启强缓存, 但发现CDN不支持, 只能设置协商缓存, 然后添加注册了service worker, 帮助实现缓存效果.
3. 对于某些接口数据, 进行缓存, 比如授权同意的接口.


## 内存泄漏
1. 测试发现使用过程中内存数据增长异常, 同时发现用户的内存超限崩溃上报增加

### 复现和分析
1. 使用performance.memory获取到内存增长数据.
2. 分析内存的heap dump, 搜索detached 



## 码字卡顿优化
1. 用户反馈升级之后感觉码字变卡顿了

### 复现和分析
1. 本地使用开发机码字没有发现
2. 测试使用低版本mac air复现后, 发现在码字数较低时不会出现, 但是在码字数接近2w字时, fps降低了.
3. 因为码字数降低后