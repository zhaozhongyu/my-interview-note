<html><head></head>
<body><font class="Apple-style-span" face="微软雅黑"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><div><font class="Apple-style-span" face="微软雅黑"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">https://github.com/cucumber/cucumber-js</span></font></div>cucumber.js 是一个著名的关键字驱动测试框架, 跟python上的RobotFramework测试框架一样, cucumber有多个语言实现, 由于XDAS版本使用的是Nodejs语言, 为了兼容性上面的考虑, 故选择使用cucumber.js</span></font><div><font class="Apple-style-span" face="微软雅黑"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="微软雅黑"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">安装方法: npm install cucumber@latest</span></font></div><div><font class="Apple-style-span" face="微软雅黑">npm install chai@latest</font></div><div><font class="Apple-style-span" face="微软雅黑"><br></font></div><div><font class="Apple-style-span" face="微软雅黑"><br></font></div><div><font class="Apple-style-span" face="微软雅黑">示例:</font></div><div><font class="Apple-style-span" face="微软雅黑">创建文件features/simple_math.feature, 输入内容</font></div><div><font class="Apple-style-span" face="微软雅黑"><br></font></div><div><font class="Apple-style-span" face="微软雅黑"><div><font class="Apple-style-span" color="#808080">Feature: Simple maths &nbsp; &nbsp; //这一行是描述标题,&nbsp;Feature关键字指明了这一段是描述</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; In order to do maths &nbsp; &nbsp; //描述</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; As a developer &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//描述</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; I want to increment variables //描述</font></div><div><font class="Apple-style-span" color="#808080"><br></font></div><div><font class="Apple-style-span" color="#808080">&nbsp; Scenario: easy maths &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //用例标题,&nbsp; Scenario这个单词指明了这个是单条用例</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; &nbsp; Given a variable set to 1 &nbsp; &nbsp;//Given 是cucumber定义的公用关键字, 通常用于初始化变量等. &nbsp;a variable set to 是在steps.js自定义的关键字</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; &nbsp; When I increment the variable by 1 //When是cucumber定义的公用关键字, 通常用于除了初始化和结果之外的地方.&nbsp; I increment the variable by 是在steps.js自定义的关键字</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; &nbsp; Then the variable should contain 2 //Then是cucumber定义的公用关键字, 用于执行断言比较.&nbsp;the variable should contain是在steps.js中自定义的关键字</font></div><div><font class="Apple-style-span" color="#808080"><br></font></div><div><font class="Apple-style-span" color="#808080">&nbsp; Scenario Outline: much more complex stuff //用例标题,&nbsp;Scenario Outline指明了这是多条用例, 要与Examples关键字配合使用</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; &nbsp; Given a variable set to &lt;var&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //指明第一个参数作用, 其中&lt;var&gt;要在Examples中第一行指明</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; &nbsp; When I increment the variable by &lt;increment&gt; &nbsp;</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; &nbsp; Then the variable should contain &lt;result&gt;</font></div><div><font class="Apple-style-span" color="#808080"><br></font></div><div><font class="Apple-style-span" color="#808080">&nbsp; &nbsp; Examples:</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; &nbsp; &nbsp; | var | increment | result |</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; &nbsp; &nbsp; | 100 | &nbsp; &nbsp; &nbsp; &nbsp; 5 | &nbsp; &nbsp;105 |</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; &nbsp; &nbsp; | &nbsp;99 | &nbsp; &nbsp; &nbsp;1234 | &nbsp; 1333 |</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; &nbsp; &nbsp; | &nbsp;12 | &nbsp; &nbsp; &nbsp; &nbsp; 5 | &nbsp; &nbsp; 18 |</font></div><div><br></div><div><br></div><div>创建文件features/support/world.js // 定义方法的操作</div><div><div><font class="Apple-style-span" color="#808080">const { setWorldConstructor } = require('cucumber')</font></div><div><font class="Apple-style-span" color="#808080"><br></font></div><div><font class="Apple-style-span" color="#808080">class CustomWorld {</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; constructor() { &nbsp;//构造函数, 执行用例之前就会指向这个方法</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; &nbsp; this.variable = 0</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; }</font></div><div><font class="Apple-style-span" color="#808080"><br></font></div><div><font class="Apple-style-span" color="#808080">&nbsp; setTo(number) {</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; &nbsp; this.variable = number</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; }</font></div><div><font class="Apple-style-span" color="#808080"><br></font></div><div><font class="Apple-style-span" color="#808080">&nbsp; incrementBy(number) {</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; &nbsp; this.variable += number</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; }</font></div><div><font class="Apple-style-span" color="#808080">}</font></div><div><font class="Apple-style-span" color="#808080"><br></font></div><div><font class="Apple-style-span" color="#808080">setWorldConstructor(CustomWorld)</font></div></div><div><br></div><div>创建文件features/support/steps.js //定义关键词并且关联方法</div><div><div><font class="Apple-style-span" color="#808080">const { Given, When, Then } = require('cucumber')</font></div><div><font class="Apple-style-span" color="#808080">const { expect } = require('chai')</font></div><div><font class="Apple-style-span" color="#808080"><br></font></div><div><font class="Apple-style-span" color="#808080">Given('a variable set to {int}', function(number) { &nbsp; //设置关键词a variable set to, 并且指明了是int类型</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; this.setTo(number) //这里调用的是world中定义的setTo方法</font></div><div><font class="Apple-style-span" color="#808080">})</font></div><div><font class="Apple-style-span" color="#808080"><br></font></div><div><font class="Apple-style-span" color="#808080">When('I increment the variable by {int}', function(number) {</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; this.incrementBy(number) &nbsp;//这里调用的是world.js中定义的方法</font></div><div><font class="Apple-style-span" color="#808080">})</font></div><div><font class="Apple-style-span" color="#808080"><br></font></div><div><font class="Apple-style-span" color="#808080">Then('the variable should contain {int}', function(number) {</font></div><div><font class="Apple-style-span" color="#808080">&nbsp; expect(this.variable).to.eql(number) &nbsp;//断言</font></div><div><font class="Apple-style-span" color="#808080">})</font></div></div><div><font class="Apple-style-span" color="#808080"><br></font></div><div>然后执行./node_modules/.bin/cucumber-js</div></font></div></body></html>