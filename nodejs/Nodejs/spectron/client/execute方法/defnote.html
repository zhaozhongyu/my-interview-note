<html><head></head>
<body><!--StartFragment--><pre style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; white-space: pre-wrap; overflow-wrap: break-word; font-size: 12px; color: rgb(0, 0, 0); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 0, 255);">原生js的xpath选择器</span></pre><pre style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; white-space: pre-wrap; overflow-wrap: break-word; font-size: 12px; color: rgb(0, 0, 0); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 0, 255);">var</span> result = document.evaluate("//a[@href]", document, <span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 0, 255);">null</span>, XPathResult.ANY_TYPE, <span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 0, 255);">null</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 0, 0);">);
</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 0, 255);">var</span> nodes = result.iterateNext(); <span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 128, 0);">//</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 128, 0);">枚举第一个元素</span>
<span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 0, 255);">while</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 0, 0);"> (nodes){
    </span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 128, 0);">//</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 128, 0);"> 对 nodes 执行操作;</span>
    nodes=result.iterateNext(); <span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 128, 0);">//</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 128, 0);">枚举下一个元素</span>
<span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 0, 0);">}

</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 128, 0);">//</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; line-height: 1.8; color: rgb(0, 128, 0);"> 如果只查找单个元素，可以简写成这样</span>
nodes=document.evaluate("//div[1]", document).iterateNext();</pre><pre style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; white-space: pre-wrap; overflow-wrap: break-word; font-size: 12px; color: rgb(0, 0, 0); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><br></pre><pre style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; white-space: pre-wrap; overflow-wrap: break-word; font-size: 12px; color: rgb(0, 0, 0); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><!--StartFragment--><ul style="margin: 0px 0px 0px 25px; padding: 0.3em 0px; outline: none; list-style: decimal; line-height: 25px; word-break: break-word; color: rgb(34, 34, 34); font-family: tahoma, arial, &quot;Microsoft YaHei&quot;; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"><li style="margin: 0px; padding: 0px; outline: none; list-style: disc;">XPathResult.ANY_TYPE&nbsp;&nbsp;&nbsp;&nbsp; 适合于xpath表达式的数据类型</li><li style="margin: 0px; padding: 0px; outline: none; list-style: disc;">XPathResult.ANY_UNORDERED_NODE_TYPE&nbsp;&nbsp;&nbsp;&nbsp; 返回匹配节点的集合，顺序可能和文档中的不一样。</li><li style="margin: 0px; padding: 0px; outline: none; list-style: disc;">XPathResult.BOOLEAN_TYPE 返回boolean类型</li><li style="margin: 0px; padding: 0px; outline: none; list-style: disc;">XPathResult.FIRST_ORDERED_NODE_TYPE 返回文档中匹配节点的第一个节点。</li><li style="margin: 0px; padding: 0px; outline: none; list-style: disc;">XPathResult.NUMBER_TYPE 返回num类型</li><li style="margin: 0px; padding: 0px; outline: none; list-style: disc;">XPathResult.ORDERED_NODE_ITERATOR_TYPE返回匹配节点的集合，顺序和文档中的一样</li><li style="margin: 0px; padding: 0px; outline: none; list-style: disc;">XPathResult.ORDERED_NODE_SNAPSHOT_TYPE返回一个节点集合片段，在文档外捕获节点，这样将来对文档的任何修改不会影响节点集合。节点集合中的顺序要和文档中的一样。</li><li style="margin: 0px; padding: 0px; outline: none; list-style: disc;">XPathResult.STRING_TYPE 返回一个string类型</li><li style="margin: 0px; padding: 0px; outline: none; list-style: disc;">XPathResult.UNORDERED_NODE_ITERATOR_TYPE 返回匹配节点的集合，顺序可能和文档中的不一样。</li><li style="margin: 0px; padding: 0px; outline: none; list-style: disc;">XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE 返回一个节点集合片段，在文档外捕获节点，这样将来对文档的任何修改不会影响节点集合。节点集合中的顺序没有必要和文档中的一样。</li></ul><!--EndFragment--></pre><pre style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; white-space: pre-wrap; overflow-wrap: break-word; font-size: 12px; color: rgb(0, 0, 0); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><br></pre><pre style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; white-space: pre-wrap; overflow-wrap: break-word; font-size: 12px; color: rgb(0, 0, 0); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;">原生js的css选择器</pre><pre style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; white-space: pre-wrap; overflow-wrap: break-word; font-size: 12px; color: rgb(0, 0, 0); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;">var result = document.querySelector();</pre><!--EndFragment-->

</body></html>