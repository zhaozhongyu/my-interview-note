<html><head></head>
<body>

<div>chai是一个nodejs的测试工具, 中文api文档https://www.jianshu.com/p/f200a75a15d2</div><div>https://www.chaijs.com/api/</div><div><br></div><div><!--StartFragment--><pre style="box-sizing: border-box; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; margin-top: 0px; margin-bottom: 0px; word-wrap: normal; padding: 16px; overflow: auto; line-height: 1.45; background-color: rgb(246, 248, 250); border-radius: 3px; word-break: normal; color: rgb(36, 41, 46); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">const</span> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">Application</span> <span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">=</span> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">require</span>(<span class="pl-s" style="box-sizing: border-box; color: rgb(3, 47, 98);"><span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span>spectron<span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span></span>).<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">Application</span>
<span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">const</span> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">chai</span> <span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">=</span> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">require</span>(<span class="pl-s" style="box-sizing: border-box; color: rgb(3, 47, 98);"><span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span>chai<span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span></span>)
<span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">const</span> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">chaiAsPromised</span> <span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">=</span> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">require</span>(<span class="pl-s" style="box-sizing: border-box; color: rgb(3, 47, 98);"><span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span>chai-as-promised<span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span></span>)
<span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">const</span> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">electronPath</span> <span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">=</span> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">require</span>(<span class="pl-s" style="box-sizing: border-box; color: rgb(3, 47, 98);"><span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span>electron<span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span></span>)
<span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">const</span> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">path</span> <span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">=</span> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">require</span>(<span class="pl-s" style="box-sizing: border-box; color: rgb(3, 47, 98);"><span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span>path<span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span></span>)

<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">chai</span>.<span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">should</span>()
<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">chai</span>.<span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">use</span>(chaiAsPromised)

<span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">describe</span>(<span class="pl-s" style="box-sizing: border-box; color: rgb(3, 47, 98);"><span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span>Application launch<span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span></span>, <span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">function</span> () {
  <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">this</span>.<span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">timeout</span>(<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">10000</span>);

  <span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">beforeEach</span>(<span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">function</span> () {
    <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">this</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">app</span> <span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">=</span> <span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">new</span> <span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">Application</span>({
      path<span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">:</span> electronPath,
      args<span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">:</span> [<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">path</span>.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">join</span>(<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">__dirname</span>, <span class="pl-s" style="box-sizing: border-box; color: rgb(3, 47, 98);"><span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span>..<span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span></span>)]
    })
    <span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">return</span> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">this</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">app</span>.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">start</span>()
  })

  <span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">beforeEach</span>(<span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">function</span> () {
    <span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">chaiAsPromised</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">transferPromiseness</span> <span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">=</span> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">this</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">app</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">transferPromiseness</span>
  })

  <span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">afterEach</span>(<span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">function</span> () {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">if</span> (<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">this</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">app</span> <span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">&amp;&amp;</span> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">this</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">app</span>.<span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">isRunning</span>()) {
      <span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">return</span> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">this</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">app</span>.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">stop</span>()
    }
  })

  <span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">it</span>(<span class="pl-s" style="box-sizing: border-box; color: rgb(3, 47, 98);"><span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span>opens a window<span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span></span>, <span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">function</span> () {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(215, 58, 73);">return</span> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">this</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">app</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">client</span>.<span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">waitUntilWindowLoaded</span>()
      .<span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">getWindowCount</span>().<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">should</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">eventually</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">have</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">at</span>.<span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">least</span>(<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">1</span>)
      .<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">browserWindow</span>.<span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">isMinimized</span>().<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">should</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">eventually</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">be</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">false</span>
      .<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">browserWindow</span>.<span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">isVisible</span>().<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">should</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">eventually</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">be</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">true</span>
      .<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">browserWindow</span>.<span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">isFocused</span>().<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">should</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">eventually</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">be</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">true</span>
      .<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">browserWindow</span>.<span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">getBounds</span>().<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">should</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">eventually</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">have</span>.<span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">property</span>(<span class="pl-s" style="box-sizing: border-box; color: rgb(3, 47, 98);"><span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span>width<span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span></span>).<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">and</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">be</span>.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">above</span>(<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">0</span>)
      .<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">browserWindow</span>.<span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">getBounds</span>().<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">should</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">eventually</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">have</span>.<span class="pl-en" style="box-sizing: border-box; color: rgb(111, 66, 193);">property</span>(<span class="pl-s" style="box-sizing: border-box; color: rgb(3, 47, 98);"><span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span>height<span class="pl-pds" style="box-sizing: border-box; color: rgb(3, 47, 98);">'</span></span>).<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">and</span>.<span class="pl-smi" style="box-sizing: border-box; color: rgb(36, 41, 46);">be</span>.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">above</span>(<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 92, 197);">0</span>)
  })
})</pre><!--EndFragment--></div></body></html>