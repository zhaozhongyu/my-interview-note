<html><head></head>
<body>

<div><!--StartFragment--><h3 id="基础例子" style="font-weight: 600; color: rgb(44, 62, 80); pointer-events: none; margin: 52px 0px 1.2em; line-height: 1.2; position: relative; font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"><a href="https://cn.vuejs.org/v2/guide/computed.html#%E5%9F%BA%E7%A1%80%E4%BE%8B%E5%AD%90" class="headerlink" title="基础例子" data-scroll="" style="text-decoration: none; color: rgb(44, 62, 80); font-weight: 600; pointer-events: auto;">基础例子</a>&nbsp;//这里的computed表示计算属性</h3><figure class="highlight html" style="overflow-x: auto; background-color: rgb(248, 248, 248); padding: 0.4em 0px 0px; line-height: 1.1em; border-radius: 2px; position: relative; margin: 1.2em 0px; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><table style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><tbody><tr style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><td class="code" style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><pre style="color: rgb(82, 82, 82); font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; padding: 1.2em 1.4em; line-height: 1.5em; margin: 0px;"><span class="line" style="min-height: 1.5em;"><span class="tag" style="color: rgb(41, 115, 183);">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string" style="color: rgb(66, 185, 131);">"example"</span>&gt;</span></span><br><span class="line" style="min-height: 1.5em;">  <span class="tag" style="color: rgb(41, 115, 183);">&lt;<span class="name">p</span>&gt;</span>Original message: "{{ message }}"<span class="tag" style="color: rgb(41, 115, 183);">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line" style="min-height: 1.5em;">  <span class="tag" style="color: rgb(41, 115, 183);">&lt;<span class="name">p</span>&gt;</span>Computed reversed message: "{{ reversedMessage }}"<span class="tag" style="color: rgb(41, 115, 183);">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line" style="min-height: 1.5em;"><span class="tag" style="color: rgb(41, 115, 183);">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight js" style="overflow-x: auto; background-color: rgb(248, 248, 248); padding: 0.4em 0px 0px; line-height: 1.1em; border-radius: 2px; position: relative; margin: 1.2em 0px; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><table style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><tbody><tr style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><td class="code" style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><pre style="color: rgb(82, 82, 82); font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; padding: 1.2em 1.4em; line-height: 1.5em; margin: 0px;"><span class="line" style="min-height: 1.5em;"><span class="keyword" style="color: rgb(233, 105, 0);">var</span> vm = <span class="keyword" style="color: rgb(233, 105, 0);">new</span> Vue({</span><br><span class="line" style="min-height: 1.5em;">  el: <span class="string" style="color: rgb(66, 185, 131);">'#example'</span>,</span><br><span class="line" style="min-height: 1.5em;">  data: {</span><br><span class="line" style="min-height: 1.5em;">    message: <span class="string" style="color: rgb(66, 185, 131);">'Hello'</span></span><br><span class="line" style="min-height: 1.5em;">  },</span><br><span class="line" style="min-height: 1.5em;">  computed: {</span><br><span class="line" style="min-height: 1.5em;">    <span class="comment" style="color: rgb(179, 179, 179);">// 计算属性的 getter</span></span><br><span class="line" style="min-height: 1.5em;">    reversedMessage: <span class="function"><span class="keyword" style="color: rgb(0, 146, 219);">function</span> (<span class="params"></span>) </span>{</span><br><span class="line" style="min-height: 1.5em;">      <span class="comment" style="color: rgb(179, 179, 179);">// `this` 指向 vm 实例</span></span><br><span class="line" style="min-height: 1.5em;">      <span class="keyword" style="color: rgb(233, 105, 0);">return</span> <span class="keyword" style="color: rgb(233, 105, 0);">this</span>.message.split(<span class="string" style="color: rgb(66, 185, 131);">''</span>).reverse().join(<span class="string" style="color: rgb(66, 185, 131);">''</span>)</span><br><span class="line" style="min-height: 1.5em;">    }</span><br><span class="line" style="min-height: 1.5em;">  }</span><br><span class="line" style="min-height: 1.5em;">})</span></pre></td></tr></tbody></table></figure><!--EndFragment--></div><div><!--StartFragment--><h3 id="计算属性缓存-vs-方法" style="font-weight: 600; color: rgb(44, 62, 80); pointer-events: none; margin: 52px 0px 1.2em; line-height: 1.2; position: relative; font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"><a href="https://cn.vuejs.org/v2/guide/computed.html#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%BC%93%E5%AD%98-vs-%E6%96%B9%E6%B3%95" class="headerlink" title="计算属性缓存 vs 方法" data-scroll="" style="text-decoration: none; color: rgb(44, 62, 80); font-weight: 600; pointer-events: auto;">计算属性缓存 vs 方法</a>&nbsp;</h3><p style="word-spacing: 0.05em; line-height: 1.6em; margin: 1.2em 0px -1.2em; padding-bottom: 1.2em; position: relative; z-index: 1; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">你可能已经注意到我们可以通过在表达式中调用方法来达到同样的效果： //这里的methods表示方法</p><figure class="highlight html" style="overflow-x: auto; background-color: rgb(248, 248, 248); padding: 0.4em 0px 0px; line-height: 1.1em; border-radius: 2px; position: relative; margin: 1.2em 0px; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><table style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><tbody><tr style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><td class="code" style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><pre style="color: rgb(82, 82, 82); font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; padding: 1.2em 1.4em; line-height: 1.5em; margin: 0px;"><span class="line" style="min-height: 1.5em;"><span class="tag" style="color: rgb(41, 115, 183);">&lt;<span class="name">p</span>&gt;</span>Reversed message: "{{ reversedMessage() }}"<span class="tag" style="color: rgb(41, 115, 183);">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight js" style="overflow-x: auto; background-color: rgb(248, 248, 248); padding: 0.4em 0px 0px; line-height: 1.1em; border-radius: 2px; position: relative; margin: 1.2em 0px; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><table style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><tbody><tr style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><td class="code" style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><pre style="color: rgb(82, 82, 82); font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; padding: 1.2em 1.4em; line-height: 1.5em; margin: 0px;"><span class="line" style="min-height: 1.5em;"><span class="comment" style="color: rgb(179, 179, 179);">// 在组件中</span></span><br><span class="line" style="min-height: 1.5em;">methods: {</span><br><span class="line" style="min-height: 1.5em;">  reversedMessage: <span class="function"><span class="keyword" style="color: rgb(0, 146, 219);">function</span> (<span class="params"></span>) </span>{</span><br><span class="line" style="min-height: 1.5em;">    <span class="keyword" style="color: rgb(233, 105, 0);">return</span> <span class="keyword" style="color: rgb(233, 105, 0);">this</span>.message.split(<span class="string" style="color: rgb(66, 185, 131);">''</span>).reverse().join(<span class="string" style="color: rgb(66, 185, 131);">''</span>)</span><br><span class="line" style="min-height: 1.5em;">  }</span><br><span class="line" style="min-height: 1.5em;">}</span><br></pre></td></tr></tbody></table></figure><p style="word-spacing: 0.05em; line-height: 1.6em; margin: 1.2em 0px -1.2em; padding-bottom: 1.2em; position: relative; z-index: 1; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">我们可以将同一函数定义为一个方法而不是一个计算属性。两种方式的最终结果确实是完全相同的。然而，不同的是<strong style="font-weight: 600; color: rgb(44, 62, 80);">计算属性是基于它们的依赖进行缓存的</strong>。计算属性只有在它的相关依赖发生改变时才会重新求值。这就意味着只要<span>&nbsp;</span><code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">message</code><span>&nbsp;</span>还没有发生改变，多次访问<span>&nbsp;</span><code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">reversedMessage</code><span>&nbsp;</span>计算属性会立即返回之前的计算结果，而不必再次执行函数。</p><p style="word-spacing: 0.05em; line-height: 1.6em; margin: 1.2em 0px -1.2em; padding-bottom: 1.2em; position: relative; z-index: 1; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">这也同样意味着下面的计算属性将不再更新，因为<span>&nbsp;</span><code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">Date.now()</code><span>&nbsp;</span>不是响应式依赖：</p><figure class="highlight js" style="overflow-x: auto; background-color: rgb(248, 248, 248); padding: 0.4em 0px 0px; line-height: 1.1em; border-radius: 2px; position: relative; margin: 1.2em 0px; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><table style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><tbody><tr style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><td class="code" style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><pre style="color: rgb(82, 82, 82); font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; padding: 1.2em 1.4em; line-height: 1.5em; margin: 0px;"><span class="line" style="min-height: 1.5em;">computed: {</span><br><span class="line" style="min-height: 1.5em;">  now: <span class="function"><span class="keyword" style="color: rgb(0, 146, 219);">function</span> (<span class="params"></span>) </span>{</span><br><span class="line" style="min-height: 1.5em;">    <span class="keyword" style="color: rgb(233, 105, 0);">return</span> <span class="built_in" style="color: rgb(66, 185, 131);">Date</span>.now()</span><br><span class="line" style="min-height: 1.5em;">  }</span><br><span class="line" style="min-height: 1.5em;">}</span><br></pre></td></tr></tbody></table></figure><p style="word-spacing: 0.05em; line-height: 1.6em; margin: 1.2em 0px -1.2em; padding-bottom: 1.2em; position: relative; z-index: 1; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">相比之下，每当触发重新渲染时，调用方法将<strong style="font-weight: 600; color: rgb(44, 62, 80);">总会</strong>再次执行函数。</p><!--EndFragment--></div><div><br></div><div><!--StartFragment--><h3 id="计算属性的-setter" style="font-weight: 600; color: rgb(44, 62, 80); pointer-events: none; margin: 52px 0px 1.2em; line-height: 1.2; position: relative; font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"><a href="https://cn.vuejs.org/v2/guide/computed.html#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%9A%84-setter" class="headerlink" title="计算属性的 setter" data-scroll="" style="text-decoration: none; color: rgb(44, 62, 80); font-weight: 600; pointer-events: auto;">计算属性的 setter</a></h3><p style="word-spacing: 0.05em; line-height: 1.6em; margin: 1.2em 0px -1.2em; padding-bottom: 1.2em; position: relative; z-index: 1; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">计算属性默认只有 getter ，不过在需要时你也可以提供一个 setter ：</p><figure class="highlight js" style="overflow-x: auto; background-color: rgb(248, 248, 248); padding: 0.4em 0px 0px; line-height: 1.1em; border-radius: 2px; position: relative; margin: 1.2em 0px; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><table style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><tbody><tr style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><td class="code" style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><pre style="color: rgb(82, 82, 82); font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; padding: 1.2em 1.4em; line-height: 1.5em; margin: 0px;"><span class="line" style="min-height: 1.5em;"><span class="comment" style="color: rgb(179, 179, 179);">// ...</span></span><br><span class="line" style="min-height: 1.5em;">computed: {</span><br><span class="line" style="min-height: 1.5em;">  fullName: {</span><br><span class="line" style="min-height: 1.5em;">    <span class="comment" style="color: rgb(179, 179, 179);">// getter</span></span><br><span class="line" style="min-height: 1.5em;">    get: <span class="function"><span class="keyword" style="color: rgb(0, 146, 219);">function</span> (<span class="params"></span>) </span>{</span><br><span class="line" style="min-height: 1.5em;">      <span class="keyword" style="color: rgb(233, 105, 0);">return</span> <span class="keyword" style="color: rgb(233, 105, 0);">this</span>.firstName + <span class="string" style="color: rgb(66, 185, 131);">' '</span> + <span class="keyword" style="color: rgb(233, 105, 0);">this</span>.lastName</span><br><span class="line" style="min-height: 1.5em;">    },</span><br><span class="line" style="min-height: 1.5em;">    <span class="comment" style="color: rgb(179, 179, 179);">// setter</span></span><br><span class="line" style="min-height: 1.5em;">    set: <span class="function"><span class="keyword" style="color: rgb(0, 146, 219);">function</span> (<span class="params">newValue</span>) </span>{</span><br><span class="line" style="min-height: 1.5em;">      <span class="keyword" style="color: rgb(233, 105, 0);">var</span> names = newValue.split(<span class="string" style="color: rgb(66, 185, 131);">' '</span>)</span><br><span class="line" style="min-height: 1.5em;">      <span class="keyword" style="color: rgb(233, 105, 0);">this</span>.firstName = names[<span class="number" style="color: rgb(174, 129, 255);">0</span>]</span><br><span class="line" style="min-height: 1.5em;">      <span class="keyword" style="color: rgb(233, 105, 0);">this</span>.lastName = names[names.length - <span class="number" style="color: rgb(174, 129, 255);">1</span>]</span><br><span class="line" style="min-height: 1.5em;">    }</span><br><span class="line" style="min-height: 1.5em;">  }</span><br><span class="line" style="min-height: 1.5em;">}</span></pre></td></tr></tbody></table></figure><!--EndFragment--></div><div><!--StartFragment--><h2 id="侦听器" style="font-weight: 600; color: rgb(44, 62, 80); pointer-events: none; margin: 45px 0px 0.8em; padding-bottom: 0.7em; border-bottom: 1px solid rgb(221, 221, 221); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"><a href="https://cn.vuejs.org/v2/guide/computed.html#%E4%BE%A6%E5%90%AC%E5%99%A8" class="headerlink" title="侦听器" data-scroll="" style="text-decoration: none; color: rgb(44, 62, 80); font-weight: 600; pointer-events: auto;">侦听器</a></h2><p style="word-spacing: 0.05em; line-height: 1.6em; margin: 1.2em 0px -1.2em; padding-bottom: 1.2em; position: relative; z-index: 1; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">虽然计算属性在大多数情况下更合适，但有时也需要一个自定义的侦听器。这就是为什么 Vue 通过<span>&nbsp;</span><code style="font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; color: rgb(233, 105, 0); padding: 3px 5px; margin: 0px 2px; border-radius: 2px; white-space: nowrap;">watch</code><span>&nbsp;</span>选项提供了一个更通用的方法，来响应数据的变化。当需要在数据变化时执行异步或开销较大的操作时，这个方式是最有用的。</p><p style="word-spacing: 0.05em; line-height: 1.6em; margin: 1.2em 0px -1.2em; padding-bottom: 1.2em; position: relative; z-index: 1; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">例如：</p><figure class="highlight html" style="overflow-x: auto; background-color: rgb(248, 248, 248); padding: 0.4em 0px 0px; line-height: 1.1em; border-radius: 2px; position: relative; margin: 1.2em 0px; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><table style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><tbody><tr style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><td class="code" style="width: 600px; border-collapse: collapse; padding: 0px; margin: 0px;"><pre style="color: rgb(82, 82, 82); font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; padding: 1.2em 1.4em; line-height: 1.5em; margin: 0px;"><span class="line" style="min-height: 1.5em;"><span class="tag" style="color: rgb(41, 115, 183);">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string" style="color: rgb(66, 185, 131);">"watch-example"</span>&gt;</span></span><br><span class="line" style="min-height: 1.5em;">  <span class="tag" style="color: rgb(41, 115, 183);">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line" style="min-height: 1.5em;">    Ask a yes/no question:</span><br><span class="line" style="min-height: 1.5em;">    <span class="tag" style="color: rgb(41, 115, 183);">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string" style="color: rgb(66, 185, 131);">"question"</span>&gt;</span></span><br><span class="line" style="min-height: 1.5em;">  <span class="tag" style="color: rgb(41, 115, 183);">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line" style="min-height: 1.5em;">  <span class="tag" style="color: rgb(41, 115, 183);">&lt;<span class="name">p</span>&gt;</span>{{ answer }}<span class="tag" style="color: rgb(41, 115, 183);">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line" style="min-height: 1.5em;"><span class="tag" style="color: rgb(41, 115, 183);">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight html" style="overflow-x: auto; background-color: rgb(248, 248, 248); padding: 0.4em 0px 0px; line-height: 1.1em; border-radius: 2px; position: relative; margin: 1.2em 0px; color: rgb(52, 73, 94); font-family: &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><table style="width: 632px; border-collapse: collapse; padding: 0px; margin: 0px;"><tbody><tr style="width: 632px; border-collapse: collapse; padding: 0px; margin: 0px;"><td class="code" style="width: 632px; border-collapse: collapse; padding: 0px; margin: 0px;"><pre style="color: rgb(82, 82, 82); font-family: &quot;Roboto Mono&quot;, Monaco, courier, monospace; font-size: 0.8em; background-color: rgb(248, 248, 248); -webkit-font-smoothing: initial; padding: 1.2em 1.4em; line-height: 1.5em; margin: 0px;"><span class="line" style="min-height: 1.5em;"><span class="comment" style="color: rgb(179, 179, 179);">&lt;!-- 因为 AJAX 库和通用工具的生态已经相当丰富，Vue 核心代码没有重复 --&gt;</span></span><br><span class="line" style="min-height: 1.5em;"><span class="comment" style="color: rgb(179, 179, 179);">&lt;!-- 提供这些功能以保持精简。这也可以让你自由选择自己更熟悉的工具。 --&gt;</span></span><br><span class="line" style="min-height: 1.5em;"><span class="tag" style="color: rgb(41, 115, 183);">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string" style="color: rgb(66, 185, 131);">"https://cdn.jsdelivr.net/npm/axios@0.12.0/dist/axios.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag" style="color: rgb(41, 115, 183);">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line" style="min-height: 1.5em;"><span class="tag" style="color: rgb(41, 115, 183);">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string" style="color: rgb(66, 185, 131);">"https://cdn.jsdelivr.net/npm/lodash@4.13.1/lodash.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag" style="color: rgb(41, 115, 183);">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line" style="min-height: 1.5em;"><span class="tag" style="color: rgb(41, 115, 183);">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript"><span class="keyword" style="color: rgb(233, 105, 0);">var</span> watchExampleVM = <span class="keyword" style="color: rgb(233, 105, 0);">new</span> Vue({</span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">  el: <span class="string" style="color: rgb(66, 185, 131);">'#watch-example'</span>,</span></span><br><span class="line" style="min-height: 1.5em;"><span class="undefined">  data: {</span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">    question: <span class="string" style="color: rgb(66, 185, 131);">''</span>,</span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">    answer: <span class="string" style="color: rgb(66, 185, 131);">'I cannot give you an answer until you ask a question!'</span></span></span><br><span class="line" style="min-height: 1.5em;"><span class="undefined">  },</span></span><br><span class="line" style="min-height: 1.5em;"><span class="undefined">  watch: {</span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript"> &nbsp;  <span class="comment" style="color: rgb(179, 179, 179);">// 如果 `question` 发生改变，这个函数就会运行</span></span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">    question: <span class="function"><span class="keyword" style="color: rgb(0, 146, 219);">function</span> (<span class="params">newQuestion, oldQuestion</span>) </span>{</span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">      <span class="keyword" style="color: rgb(233, 105, 0);">this</span>.answer = <span class="string" style="color: rgb(66, 185, 131);">'Waiting for you to stop typing...'</span></span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">      <span class="keyword" style="color: rgb(233, 105, 0);">this</span>.debouncedGetAnswer()</span></span><br><span class="line" style="min-height: 1.5em;"><span class="undefined">    }</span></span><br><span class="line" style="min-height: 1.5em;"><span class="undefined">  },</span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">  created: <span class="function"><span class="keyword" style="color: rgb(0, 146, 219);">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript"> &nbsp;  <span class="comment" style="color: rgb(179, 179, 179);">// `_.debounce` 是一个通过 Lodash 限制操作频率的函数。</span></span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript"> &nbsp;  <span class="comment" style="color: rgb(179, 179, 179);">// 在这个例子中，我们希望限制访问 yesno.wtf/api 的频率</span></span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript"> &nbsp;  <span class="comment" style="color: rgb(179, 179, 179);">// AJAX 请求直到用户输入完毕才会发出。想要了解更多关于</span></span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">    <span class="comment" style="color: rgb(179, 179, 179);">// `_.debounce` 函数 (及其近亲 `_.throttle`) 的知识，</span></span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">    <span class="comment" style="color: rgb(179, 179, 179);">// 请参考：https://lodash.com/docs#debounce</span></span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">    <span class="keyword" style="color: rgb(233, 105, 0);">this</span>.debouncedGetAnswer = _.debounce(<span class="keyword" style="color: rgb(233, 105, 0);">this</span>.getAnswer, <span class="number" style="color: rgb(174, 129, 255);">500</span>)</span></span><br><span class="line" style="min-height: 1.5em;"><span class="undefined">  },</span></span><br><span class="line" style="min-height: 1.5em;"><span class="undefined">  methods: {</span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">    getAnswer: <span class="function"><span class="keyword" style="color: rgb(0, 146, 219);">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">      <span class="keyword" style="color: rgb(233, 105, 0);">if</span> (<span class="keyword" style="color: rgb(233, 105, 0);">this</span>.question.indexOf(<span class="string" style="color: rgb(66, 185, 131);">'?'</span>) === <span class="number" style="color: rgb(174, 129, 255);">-1</span>) {</span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">        <span class="keyword" style="color: rgb(233, 105, 0);">this</span>.answer = <span class="string" style="color: rgb(66, 185, 131);">'Questions usually contain a question mark. ;-)'</span></span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">        <span class="keyword" style="color: rgb(233, 105, 0);">return</span></span></span><br><span class="line" style="min-height: 1.5em;"><span class="undefined">      }</span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">      <span class="keyword" style="color: rgb(233, 105, 0);">this</span>.answer = <span class="string" style="color: rgb(66, 185, 131);">'Thinking...'</span></span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">      <span class="keyword" style="color: rgb(233, 105, 0);">var</span> vm = <span class="keyword" style="color: rgb(233, 105, 0);">this</span></span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">      axios.get(<span class="string" style="color: rgb(66, 185, 131);">'https://yesno.wtf/api'</span>)</span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">        .then(<span class="function"><span class="keyword" style="color: rgb(0, 146, 219);">function</span> (<span class="params">response</span>) </span>{</span></span><br><span class="line" style="min-height: 1.5em;"><span class="undefined">          vm.answer = _.capitalize(response.data.answer)</span></span><br><span class="line" style="min-height: 1.5em;"><span class="undefined">        })</span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">        .catch(<span class="function"><span class="keyword" style="color: rgb(0, 146, 219);">function</span> (<span class="params">error</span>) </span>{</span></span><br><span class="line" style="min-height: 1.5em;"><span class="javascript">          vm.answer = <span class="string" style="color: rgb(66, 185, 131);">'Error! Could not reach the API. '</span> + error</span></span><br><span class="line" style="min-height: 1.5em;"><span class="undefined">        })</span></span><br><span class="line" style="min-height: 1.5em;"><span class="undefined">    }</span></span><br><span class="line" style="min-height: 1.5em;"><span class="undefined">  }</span></span><br><span class="line" style="min-height: 1.5em;"><span class="undefined">})</span></span><br><span class="line" style="min-height: 1.5em;"><span class="undefined"></span><span class="tag" style="color: rgb(41, 115, 183);">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></tbody></table></figure><!--EndFragment--></div><div><br></div><div><br></div><div><br></div></body></html>