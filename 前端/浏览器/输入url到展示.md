https://blog.csdn.net/egegerhn/article/details/123121149
## 从输入url到页面展示
### 输入阶段
1. 从输入字符开始, 浏览器检索历史记录, 显示匹配的地址
2. 输入完毕后, 根据url的规则判断是搜索内容还是url, 如果是url直接访问, 否则调用默认的搜索引擎跳转

### url请求阶段
1. 浏览器通过进程间通信将url请求发送给网络进程, 网络进程复用或者新建连接, 发起url请求. http1.1最多6个连接, http2因为采用了多路复用, 因此只需要1个连接
2. 发起请求前, 根据url缓存判断是否存在, 如果没有, 先进行DNS解析. 
3. 如果是HTTPS请求, 还需要建立TLS连接, 然后就是构造请求行, 请求头, 发送构造的请求信息.

### 渲染阶段
0. 同一个站点时, chrome复用同一个渲染进程.
1. 浏览器进程将网络进程接收到的数据提交给渲染进程. 
2. 渲染进程构造DOM树, CSSOM树, 然后根据DOM树和CSSOM树构造Render 树, 构造完render树后, 进入渲染阶段.

1.解析html为dom树，解析css为cssom。渲染引擎开始解析html，并将标签转化为内容树中的dom节点。
2. 把dom和cssom结合起来生成渲染树(render)。接着，它解析外部CSS文件及style标签中的样式信息。这些样式信息以及html中的可见性指令将被用来构建另一棵树——render树。Render树由一些包含有颜色和大小等属性的矩形组成，它们将被按照正确的顺序显示到屏幕上。
3. 布局渲染树，计算几何形状。Render树构建好了之后，将会执行布局过程，它将确定每个节点在屏幕上的确切坐标。
4. 把渲染树展示到屏幕上。再下一步就是绘制，即遍历render树，并使用UI后端层绘制每个节点。
当浏览器生成渲染树以后，就会根据渲染树来进行布局（也可以叫做回流）。这一阶段浏览器要做的事情是要弄清楚各个节点在页面中的确切位置和大小。通常这一行为也被称为“自动重排”。

布局流程的输出是一个“盒模型”，它会精确地捕获每个元素在视口内的确切位置和尺寸，所有相对测量值都将转换为屏幕上的绝对像素。

布局完成后，浏览器会立即发出“Paint Setup”和“Paint”事件，将渲染树转换成屏幕上的像素。
